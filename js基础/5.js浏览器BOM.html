<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>js浏览器BOM</title>
	</head>
	<body onload="checkCookie()">
		<input type="button" value="加载新文档" onclick="newDoc()">
		<div id="example"></div>
		<button onclick="myFunction()">点我</button>
		<p id="demo"></p>
		<button onclick="MyOneFunction()">点我</button>
		<p id="demo1"></p>
		<p id="demo2"></p>
		<p id="demo3"></p>
		<button onclick="myStopFunction()">停止时钟</button>
		<p>点击按钮，在等待 3 秒后弹出 "Hello"。</p>
		<button onclick="myTwoFunction()">点我</button>
		<p>点击第二个按钮来阻止第一个函数运行。（你必须在3秒之前点击它）。</p>
		<button onclick="myStopoFunction()">停止弹框</button>
	</body>
	<script type="text/javascript">
		/*1.js window 浏览器对象模型：浏览器对象模型 (BOM) 使 JavaScript 有能力与浏览器"对话"。
		 window对象：所有浏览器都支持window对象，它表示浏览器窗口；
		 所有 JavaScript 全局对象、函数以及变量均自动成为 window 对象的成员。
		全局变量是 window 对象的属性。
		全局函数是 window 对象的方法。
		甚至 HTML DOM 的 document 也是 window 对象的属性之一：
		
		* window尺寸：有三种方法能够确定浏览器窗口的尺寸。
					对于Internet Explorer、Chrome、Firefox、Opera 以及 Safari：
					window.innerHeight - 浏览器窗口的内部高度(包括滚动条)
					window.innerWidth - 浏览器窗口的内部宽度(包括滚动条)
					对于 Internet Explorer 8、7、6、5：
					document.documentElement.clientHeight
					document.documentElement.clientWidth
					或者
					document.body.clientHeight
					document.body.clientWidth
		涵盖所有浏览器的宽高：
		var w=window.innerWidth|| document.documentElement.clientWidth|| document.body.clientWidth;
		var h=window.innerHeight|| document.documentElement.clientHeight|| document.body.clientHeight;
		document.write("浏览器window宽度: " + w + ", 高度: " + h + "。");
		
		其他window方法：window.open() - 打开新窗口
						window.close() - 关闭当前窗口
						window.moveTo() - 移动当前窗口
						window.resizeTo() - 调整当前窗口的尺寸
		* */
		/*2.js window Screen：window screen对象包含有关用户屏幕的信息；
			window screen：	window.screen对象在编写时可以不使用 window 这个前缀。
			screen.availWidth - 可用的屏幕宽度，以像素计，减去界面特性，比如窗口任务栏。
			document.write("可用宽度: " + screen.availWidth);
			screen.availHeight - 可用的屏幕高度，以像素计，减去界面特性，比如窗口任务栏。
			document.write("可用高度: " + screen.availHeight);
		 * */
		/*3.js window location：对象用于获得当前页面的地址 (URL)，并把浏览器重定向到新的页面。
		 window.location 对象在编写时可不使用 window 这个前缀
		 location.hostname 返回 web 主机的域名
		location.pathname 返回当前页面的路径和文件名
		location.port 返回 web 主机的端口 （80 或 443）
		location.protocol 返回所使用的 web 协议（http:// 或 https://）
		
		Window Location Href：属性返回当前页面的 URL。
		document.write(location.href);
		Window Location Pathname： 属性返回 URL 的路径名。
		document.write(location.pathname);
		Window Location Assign：方法加载新的文档。实例一
		* */
		document.write(location.href);
		document.write(location.pathname);
		//实例一:
		function newDoc(){
			window.location.assign("http://www.w3cschool.cc")
		}
		/*4，js window history：对象包含浏览器的历史。window.history对象在编写时可不使用 window 这个前缀。
		 为了保护用户隐私，对 JavaScript 访问该对象的方法做出了限制。
		 history.back() - 与在浏览器点击后退按钮相同
		 <input type="button" value="Back" onclick="goBack()">
		 function goBack()
		  {
		  window.history.back()
		  }
		history.forward() - 与在浏览器中点击按钮向前相同
		<input type="button" value="Forward" onclick="goForward()">
		function goForward()
		  {
		  window.history.forward()
		  }		
		*/
		/*5.js window Navigator：对象包含有关访问者浏览器的信息： 对象在编写时可不使用 window 这个前缀。
		 ！！！！！警告！来自navigation对象的信息具有误导性，不应该被用于检测浏览器版本，这是因为：
		 navigation数据可悲浏览器使用者更改，
		 一些浏览区对测试站点会识别错误
		 浏览器无法报告晚于浏览区发布的新操作系统
		 * */
		//实例二：js navigation
		txt = "<p>浏览器代号: " + navigator.appCodeName + "</p>";
		txt+= "<p>浏览器名称: " + navigator.appName + "</p>";
		txt+= "<p>浏览器版本: " + navigator.appVersion + "</p>";
		txt+= "<p>启用Cookies: " + navigator.cookieEnabled + "</p>";
		txt+= "<p>硬件平台: " + navigator.platform + "</p>";
		txt+= "<p>用户代理: " + navigator.userAgent + "</p>";
		txt+= "<p>用户代理语言: " + navigator.systemLanguage + "</p>";
		document.getElementById("example").innerHTML=txt;
		/*6.js 弹窗：可以在js中创建3种消息框：警告框，确认框，提示框
		 *1.警示框：window.alert() 方法可以不带上window对象，直接使用alert()方法。                                                                                                                                                                                                                          
		 2.确认框：window.confirm() 方法可以不带上window对象，直接使用confirm()方法。实例三
		 *3.提示框：window.prompt()实例四
		 * 换行：弹窗使用\n来设置换行；
		 * */
		alert(1);
		//实例三：确认框
		function myFunction(){
			var x ;
			var r = confirm("按下按钮");
			if(r==true){
				x="你按下了\"确定\"按钮!";
			}else{
				x="你按下了\"取消\"按钮!";
			}
			document.getElementById("demo").innerHTML=x;
		}
		//实例四：提示框
		function MyOneFunction(){
			var x;
			var person=prompt("请输入你的名字","Harry Potter");
			if (person!=null && person!=""){
			    x="你好 " + person + "! 今天感觉如何?";
			    document.getElementById("demo1").innerHTML=x;
			}
		}
		/*7.js计时事件：JavaScript 一个设定的时间间隔之后来执行代码,我们称之为计时事件
		 在 JavaScritp 中使用计时事件是很容易的，两个关键方法是:
			setInterval() - 间隔指定的毫秒数不停地执行指定的代码。
			setTimeout() - 暂停指定的毫秒数后执行指定的代码
		Note: setInterval() 和 setTimeout() 是 HTML DOM Window对象的两个方法。
		
		setInterval():第一个参数是函数（function）。第二个参数间隔的毫秒数,注意: 1000 毫秒是一秒。实例五
		clearInterval():要使用 clearInterval() 方法, 在创建计时方法时你必须使用全局变量：实例六
		setTimeOut():第一个参数是函数（function）。第二个参数间隔的毫秒数,注意: 1000 毫秒是一秒。实例七
		claerTimeOut():方法用于停止执行setTimeout()方法的函数代码。要使用clearTimeout() 方法, 你必须在创建超时方法中（setTimeout）使用全局变量:实例八
		 * */
		//实例五：setInterval()
		var myVar=setInterval(function(){myTimer()},1000);
		function myTimer(){
			var d=new Date();
			var t=d.toLocaleTimeString();
			document.getElementById("demo2").innerHTML=t;
		}
		//实例六：clearInterval()停止计时器：
		var myVar=setInterval(function(){myTimer()},1000);
		function myTimer(){
			var d=new Date();
			var t=d.toLocaleTimeString();
			document.getElementById("demo3").innerHTML=t;
		}
		function myStopFunction(){
			clearInterval(myVar);
		}
		//实例七：setTimeOut():
		function myTwoFunction(){
			myVar=setTimeout(function(){alert("Hello")},3000);
		}
		//实例八：clearTimeOut():
		function myStopoFunction(){
			clearTimeout(myVar);
		}
		/*8.js cookie
		 Cookie 用于存储 web 页面的用户信息。
		 Cookie 是一些数据, 存储于你电脑上的文本文件中。
		当 web 服务器向浏览器发送 web 页面时，在连接关闭后，服务端不会记录用户的信息。
		Cookie 的作用就是用于解决 "如何记录客户端的用户信息":
		当用户访问 web 页面时，他的名字可以记录在 cookie 中。
		在用户下一次访问该页面时，可以在 cookie 中读取用户访问记录。
		Cookie 以名/值对形式存储，如下所示:
		username=John Doe
		当浏览器从服务器上请求 web 页面时， 属于该页面的 cookie 会被添加到该请求中。服务端通过这种方式来获取用户的信息。
		
		
		使用js创建cookie：document.cookie="username=John Doe";
		您还可以为 cookie 添加一个过期时间（以 UTC 或 GMT 时间）。默认情况下，cookie 在浏览器关闭时删除：document.cookie="username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 GMT";
		您可以使用 path 参数告诉浏览器 cookie 的路径。默认情况下，cookie 属于当前页面：document.cookie="username=John Doe; expires=Thu, 18 Dec 2013 12:00:00 GMT; path=/";
		
		使用js读取cookie：var x = document.cookie;
		document.cookie 将以字符串的方式返回所有的 cookie，类型格式： cookie1=value; cookie2=value; cookie3=value;
			
		使用js修改cookie：在 JavaScript 中，修改 cookie 类似于创建 cookie，如下所示：
		document.cookie="username=John Smith; expires=Thu, 18 Dec 2013 12:00:00 GMT; path=/";
		旧的 cookie 将被覆盖。
		
		
		使用js删除cookie：删除 cookie 非常简单。您只需要设置 expires 参数为以前的时间即可，如下所示，设置为 Thu, 01 Jan 1970 00:00:00 GMT:
		document.cookie = "username=; expires=Thu, 01 Jan 1970 00:00:00 GMT";
		注意，当您删除时不必指定 cookie 的值。
		
		
		cookie字符串：document.cookie 属性看起来像一个普通的文本字符串，其实它不是。
		即使您在 document.cookie 中写入一个完整的 cookie 字符串, 当您重新读取该 cookie 信息时，cookie 信息是以名/值对的形式展示的。
		如果您设置了新的 cookie，旧的 cookie 不会被覆盖。 新 cookie 将添加到 document.cookie 中，所以如果您重新读取document.cookie，您将获得如下所示的数据：
		cookie1=value; cookie2=value;
		如果您需要查找一个指定 cookie 值，您必须创建一个JavaScript 函数在 cookie 字符串中查找 cookie 值。
		 * */
		
		/*在以下实例中，我们将创建 cookie 来存储访问者名称。
		首先，访问者访问 web 页面, 他将被要求填写自己的名字。该名字会存储在 cookie 中。
		访问者下一次访问页面时，他会看到一个欢迎的消息。
		在这个实例中我们会创建 3 个 JavaScript 函数:
		设置 cookie 值的函数
		function setCookie(cname,cvalue,exdays){
			var d = new Date();
			d.setTime(d.getTime() + (exdays*24*60*1000));
			var expires = "expires=" + d.toGMTString();
			document.cookie = cname + "=" + cvalue + ";" + expires;
		}
		以上的函数参数中，cookie 的名称为 cname，cookie 的值为 cvalue，并设置了 cookie 的过期时间 expires。
		该函数设置了 cookie 名、cookie 值、cookie过期时间。
		获取 cookie 值的函数:
		function getCookie(cname){
			var name = cname+ "=";
			var ca = document.cookie.split(";");
			for(var i = 0;i<ca.lengthh;i++){
				var c = ca[i].trim();
				if(c.indexOf(name)==0) return c.substring(name.length,c.length);
			}
			return "";
		}
		cookie 名的参数为 cname。
		创建一个文本变量用于检索指定 cookie :cname + "="。
		使用分号来分割 document.cookie 字符串，并将分割后的字符串数组赋值给 ca (ca = document.cookie.split(';'))。
		循环 ca 数组 (i=0;i<ca.length;i++)，然后读取数组中的每个值，并去除前后空格 (c=ca[i].trim())。
		如果找到 cookie(c.indexOf(name) == 0)，返回 cookie 的值 (c.substring(name.length,c.length)。
		如果没有找到 cookie, 返回 ""。
		
		
		检测 cookie 值的函数:
		function checkCookie()
		{
		  var username=getCookie("username");
		  if (username!="")
		  {
		    alert("Welcome again " + username);
		  }
		  else 
		  {
		    username = prompt("Please enter your name:","");
		    if (username!="" && username!=null)
		    {
		      setCookie("username",username,365);
		    }
		  }
		}
		最后，我们可以创建一个检测 cookie 是否创建的函数。
		如果设置了 cookie，将显示一个问候信息。
		如果没有设置 cookie，将会显示一个弹窗用于询问访问者的名字，并调用 setCookie 函数将访问者的名字存储 365 天：
		完整实例：实例九：
		 */
		//实例九：cookie的创建，设置，检测
//		function setCookie(cname,cvalue,exdays){
//			var d = new Date();
//			d.setTime(d.getTime()+(exdays*24*60*60*1000));
//			var expires = "expires="+d.toGMTString();
//			document.cookie = cname+"="+cvalue+"; "+expires;
//		}
//		function getCookie(cname){
//			var name = cname + "=";
//			var ca = document.cookie.split(';');
//			for(var i=0; i<ca.length; i++) {
//				var c = ca[i].trim();
//				if (c.indexOf(name)==0) return c.substring(name.length,c.length);
//			}
//			return "";
//		}
//		function checkCookie(){
//			var user=getCookie("username");
//			if (user!=""){
//				alert("Welcome again " + user);
//			}
//			else {
//				user = prompt("Please enter your name:","");
//		  		if (user!="" && user!=null){
//		    		setCookie("username",user,30);
//		    	}
//			}
//		}
	</script>
</html>
